# Experimental Evaluation #

## Scenario ##
This scenario is based on the [Live Social Semantics](http://ieeexplore.ieee.org/xpl/freeabs_all.jsp?arnumber=5470665)
experiment.  Location of authors are recorded by RFID tags. These authors have their publication information stored in a simulated DBLP dataset. This dataset is generated by [data generator](http://dbis.informatik.uni-freiburg.de/index.php?project=SP2B) of SP<sup>2</sup>Bench.
To enhance the conference experience, each participant would have access to the following services, which can all be modeled as continuous
queries:

  * Query 1(Q1):  Inform a participant about the name and description of the location he just entered,
  * Query 2(Q2): Notify two people when they can reach each other from two different and directly connected (from now on called _nearby_) locations,
  * Query 3(Q3): Notify an author of his co-authors who have been in his current location during the last 5 seconds,
  * Query 4(Q4): Notify an author of the editors that edit a paper of him and have been in a nearby location in the last 15 seconds,
  * Query 5(Q5): Count the number of co-authors appearing in nearby locations in the last 30 seconds, grouped by locations.

These queries are represented in the syntax of CQELS language at http://code.google.com/p/cqels/wiki/CQELS_language.

Guidelines for how to run experiment queries on CQELS,C-SPARQL and ETALIS can be founded at :

  * CQELS http://code.google.com/p/cqels/wiki/CQELS_engine

  * CSPARQL http://code.google.com/p/cqels/wiki/CSPARQL_Engine

  * ETALIS http://code.google.com/p/cqels/wiki/ETALIS

We have performed the following three types of experiments:

  * Single query : For each of the Q1, Q3, Q4 and Q5 templates we generate 10 different query instances. For query template Q2, since it has no constants, we create one instance only. Then we run each instance at a time and compute the average query execution time.

  * Varying size of the DBLP dataset : We do the same experiment as in "Single Query" but varying the numbers of triples of the DBLP dataset, ranging from 10<sup>4</sup> to 10<sup>7</sup> triples. We do not include Q2 in this experiment, since it does not involved DBLP dataset.


  * Multiple queries: For query templates Q1, Q3 and Q4, we register 2<sup>M</sup> query instances at the same time, with `0<=M<=10`, and execute them in parallel.

In experiments `Single query` and `Multiple queries`, the numbers of triples from DBLP is fixed to 10<sup>5</sup>.

### Results of "Single query" experiments : ###

|     | Query 1 | Query 2 | Query 3 | Query 4 | Query 5|
|:----|:--------|:--------|:--------|:--------|:-------|
|CQELS| 0.47    | 3.90    | 0.51	   | 0.53    |  21.83 |
|C-SPARQL|332.46   |	99.84   |331.68	  |395.18   | 322.64 |
|ETALIS|  0.06   | 27.47   |79.95	   |469.23   |160.83  |

`*` The query execution time is in miliseconds.


### Results of "Varying size of the DBLP dataset" experiments ###

![http://cqels.googlecode.com/files/query1-datasize.png](http://cqels.googlecode.com/files/query1-datasize.png)

![http://cqels.googlecode.com/files/query3-datasize.png](http://cqels.googlecode.com/files/query3-datasize.png)

![http://cqels.googlecode.com/files/query4-datasize.png](http://cqels.googlecode.com/files/query4-datasize.png)

![http://cqels.googlecode.com/files/query5-datasize.png](http://cqels.googlecode.com/files/query5-datasize.png)

### Results of "Multiple queries" experiments ###

![http://cqels.googlecode.com/files/query1-multiple.png](http://cqels.googlecode.com/files/query1-multiple.png)

![http://cqels.googlecode.com/files/query3-multiple.png](http://cqels.googlecode.com/files/query3-multiple.png)

![http://cqels.googlecode.com/files/query4-multiple.png](http://cqels.googlecode.com/files/query4-multiple.png)